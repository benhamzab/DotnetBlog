@model BLOGAURA.Models.Auth.ProfileCardViewModel

@{
    var userName = Model.DisplayName ?? "Utilisateur";
    var email = Model.Email ?? string.Empty;
    var initial = string.IsNullOrWhiteSpace(userName) ? "U" : userName.Trim()[0].ToString().ToUpperInvariant();
}

<div class="home-profile-card">
    <div class="home-profile-header">
        <div class="home-profile-banner"></div>
        <div class="home-profile-avatar-wrapper">
            @if (!string.IsNullOrEmpty(Model.PhotoUrl))
            {
                <img src="@Url.Content(Model.PhotoUrl)" alt="@userName" class="home-profile-avatar-circle" style="object-fit: cover;" />
            }
            else
            {
                <div class="home-profile-avatar-circle">@initial</div>
            }
        </div>
    </div>
    <div class="home-profile-body">
        <h3 class="home-profile-name">@userName</h3>
        <p class="home-profile-role">@Model.RoleLabel</p>
        <p class="home-profile-email">@email</p>
    </div>
    <div class="home-profile-stats">
        <div class="home-profile-stat">
            <div class="home-profile-stat-label">Posts</div>
            <div class="home-profile-stat-value">@Model.PostsCount</div>
        </div>
        <div class="home-profile-stat">
            <div class="home-profile-stat-label">Abonnements</div>
            <div class="home-profile-stat-value">@Model.FollowingCount</div>
        </div>
        <div class="home-profile-stat">
            <div class="home-profile-stat-label">Abonn√©s</div>
            <div class="home-profile-stat-value">@Model.FollowersCount</div>
        </div>
    </div>
    <div class="home-profile-footer">
        <a asp-controller="Home" asp-action="Profile" asp-route-userId="@Model.UserId" class="home-btn home-btn-outline home-profile-btn">Voir le profil</a>
    </div>
</div>
